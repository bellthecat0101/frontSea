import{c as x,r as c,j as e,a as p,b as g,L as j,u as y,S as v}from"./index-bEYw7b45.js";import{p as b}from"./product-DJR_IpiK.js";import"./index-VbdQnGWQ.js";/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],N=x("chevron-down",w);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],L=x("search",S);function k({options:t,value:i,onChange:r}){const[s,n]=c.useState(!1),d=()=>n(!s),o=t.find(a=>a.id===i),u=o?o.name:"全部",m=a=>{r(a),n(!1)};return e.jsxs("div",{className:"relative w-[150px] text-left ",children:[e.jsxs("div",{className:"flex items-center justify-between px-3 py-2 cursor-pointer bg-white border border-primary/40 rounded",onClick:d,children:[e.jsx("span",{children:u})," ",e.jsx(N,{className:p("w-4 h-4 transition-transform",s&&"rotate-180")})]}),s&&e.jsx("div",{className:"absolute z-10 mt-1 w-full bg-white border rounded-md shadow-md",children:t.map(a=>e.jsx("div",{onClick:()=>m(a.id),className:p("px-3 py-2 cursor-pointer hover:bg-gray-100",a.id===i&&"bg-gray-100 text-blue-600"),children:a.name},a.id))})]})}function C({items:t}){const r=g(s=>s.language.currentLang)==="en";return e.jsx("section",{className:"flex flex-wrap py-10 sm:py-5",children:t.map((s,n)=>e.jsxs(j,{to:`/productDetail/${s.id}`,style:{animationDelay:`${n*100}ms`},className:"relative group text-center p-1 w-1/2 sm:w-1/5 transition-all duration-700 animate-fade-in-up",children:[e.jsxs("div",{className:"relative overflow-hidden",children:[e.jsx("img",{src:`/images/product${s.id}1.webp`,alt:s.name,className:"transition-transform duration-700 group-hover:scale-105"}),e.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-40 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:e.jsx(L,{className:"text-white w-6 h-6 "})})]}),e.jsx("div",{className:"font-medium pt-3",children:r?s.nameEn:s.name}),s.price!==void 0&&e.jsxs("div",{className:"text-sm text-gray-500 pb-5 font-noto-sans-tc",children:["$",s.price]})]},s.id))})}function $(){const{t}=y(),i=[{id:"all",name:t("products.categories.all")},{id:"1",name:t("products.categories.lab")},{id:"2",name:t("products.categories.museum")},{id:"3",name:t("products.categories.bookstore")},{id:"4",name:t("products.categories.doll")},{id:"5",name:t("products.categories.lifestyle")}],[r,s]=c.useState("all"),n=c.useRef([]),[d,o]=c.useState([]),[u,m]=c.useState(!0),[a,f]=c.useState(Date.now());return c.useEffect(()=>{b.getProducts().then(l=>{n.current=l.data,o(l.data)}).catch(()=>{n.current=[],o([])}).finally(()=>{m(!1)})},[]),c.useEffect(()=>{const l=n.current;o(r==="all"?l:l.filter(h=>h.class===r)),f(Date.now())},[r]),e.jsxs("div",{className:"p-4 sm:p-6 md:p-10 text-primary min-h-[700px] relative",children:[e.jsx("section",{className:"flex flex-col  sm:flex-row sm:justify-end sm:items-center text-sm mb-4 gap-2",children:e.jsx("div",{className:"flex items-center justify-center",children:e.jsx(k,{options:i,value:r,onChange:s})})}),e.jsx(C,{items:d},a),e.jsx("div",{className:"text-right text-sm pt-10",children:u?e.jsx(v,{}):t("products.count",{count:d.length})})]})}export{$ as default};

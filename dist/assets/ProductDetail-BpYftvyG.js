import{j as t,C as b,d as w,e as v,r as c,f as y,b as C,u as S,S as E,g as T,h as A}from"./index-bEYw7b45.js";import{p as k}from"./product-DJR_IpiK.js";import"./index-VbdQnGWQ.js";function I({images:s,currentIndex:e,onChange:r}){const l=()=>r((e+1)%s.length),d=()=>r((e-1+s.length)%s.length);return t.jsxs("div",{className:"relative",children:[t.jsx("img",{src:s[e],alt:"product",className:"w-full rounded object-cover"}),t.jsx("button",{onClick:d,className:"absolute left-2 top-1/2 -translate-y-1/2 p-2 rounded-full bg-white/50 hover:bg-white/80 shadow-md transition-all duration-300 group",children:t.jsx(b,{className:"w-5 h-5 text-gray-700 group-hover:-translate-x-1 transition-transform duration-300"})}),t.jsx("button",{onClick:l,className:"absolute right-2 top-1/2 -translate-y-1/2 p-2 rounded-full bg-white/50 hover:bg-white/80 shadow-md transition-all duration-300 group",children:t.jsx(w,{className:"w-5 h-5 text-gray-700 group-hover:translate-x-1 transition-transform duration-300"})}),t.jsx("div",{className:"flex justify-center gap-2 mt-4",children:s.map((i,n)=>t.jsx("img",{src:i,onClick:()=>r(n),className:`w-14 h-14 object-cover rounded cursor-pointer transition-all ${n===e?"shadow-[0_4px_12px_rgba(0,0,0,0.4)] ":"opacity-80 hover:opacity-100"}`},n))})]})}function P({name:s,description:e,price:r}){return t.jsxs("div",{className:"space-y-4 text-primary",children:[t.jsx("span",{className:"text-sm",children:"KAIRU ECO-ART STUDIO"}),t.jsx("h1",{className:"text-3xl",children:s}),t.jsx("p",{className:"text-gray-600 whitespace-pre-line",children:e}),t.jsxs("div",{className:"text-2xl font-semibold text-primary font-noto-sans-tc",children:["$",r]})]})}function L({quantity:s,onChange:e}){return t.jsxs("div",{className:"flex items-center gap-3 mt-4",children:[t.jsx("span",{className:"text-sm text-gray-500",children:"數量"}),t.jsx("button",{onClick:()=>e(Math.max(1,s-1)),className:"px-2 py-1 border rounded",children:"-"}),t.jsx("span",{children:s}),t.jsx("button",{onClick:()=>e(s+1),className:"px-2 py-1 border rounded",children:"+"})]})}function O(){const{id:s}=v(),e=Number(s),[r,l]=c.useState(0),d=y(),[i,n]=c.useState(1),[a,x]=c.useState(null),[h,u]=c.useState(!1),p=C(o=>o.language.currentLang)==="en",{t:m}=S();c.useEffect(()=>{k.getProductById(e).then(o=>{x(o.data)})},[]);const f=()=>{if(!a)return;const{name:o,price:j,nameEn:g}=a,N={id:s,name:o,nameEn:g,price:j,quantity:i};n(1),d(A(N)),u(!0)};return a?t.jsxs("div",{className:"p-10 flex flex-col md:flex-row gap-10 animate-fade-in-up ",children:[t.jsx("div",{className:"md:w-1/2 w-full ",children:t.jsx(I,{images:[`/images/product${s}1.webp`,`/images/product${s}2.webp`],currentIndex:r,onChange:l})}),t.jsxs("div",{className:"md:w-1/2 w-full",children:[t.jsx(P,{name:p?a.nameEn:a.name,description:p?a.descriptionEn:a.description,price:a.price}),t.jsx(L,{quantity:i,onChange:n}),t.jsx("button",{className:"mt-4 px-6 py-2 btn",onClick:f,children:m("products.addCart")})]}),h&&t.jsx(T,{message:m("products.finishAdd"),onClose:()=>u(!1)})]}):t.jsx("div",{className:"p-10 text-center  min-h-[600px] ",children:t.jsx(E,{})})}export{O as default};
